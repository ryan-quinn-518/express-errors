///////////////////////////////////////////////////////////////////////////////
// 3PP Imports
///////////////////////////////////////////////////////////////////////////////
import express from "express";

///////////////////////////////////////////////////////////////////////////////
// Local Imports
///////////////////////////////////////////////////////////////////////////////
import { createGlobalErrorHandler, HttpError } from "../src"

///////////////////////////////////////////////////////////////////////////////
// Constants
///////////////////////////////////////////////////////////////////////////////
const APP = express();

///////////////////////////////////////////////////////////////////////////////
// Config
///////////////////////////////////////////////////////////////////////////////
APP
    .get("/basic403", () => { throw new HttpError("forbidden"); } )
    .get("/basic409", () => { throw new HttpError("conflict"); } )

    .get("/problem400", () => { throw new HttpError("badRequest", undefined, {}); } )

    .get("/default500", () => { throw new Error("bad stuff"); } )

    .use(createGlobalErrorHandler())

    .listen(3000);

///////////////////////////////////////////////////////////////////////////////
// Exports
///////////////////////////////////////////////////////////////////////////////
export default APP;
